# grpc spring

gradlewにコード生成用のコマンドを書いていく
**importがないと自作の関数を作れない・手動importが必要**

- `io.github.lognet:grpc-spring-boot-starter`がスターターとなっている
- **protobufコマンド内のartifactはm1だと指定を微妙に変える必要がある**
- 生成されるコードはbuildディレクトリ内に入っている

サーバー実装の流れ
1. 生成されたコードのインターフェースを実装していく
2. gRPCサービスの場合はアノテーション`GRpcService`をつける
3. 値のセットは専用の関数を使って最後にビルド関数で締めることによってその方のリスポンス(リクエスト)を作成
4. 起動時にアノテーションをgRPCのアノテーションをつけたサービスがあると自動的に6565ポートに立ち上がる

クライアント実装の流れ
1. コネクションはチャンネルという名前で接続が行われる
2. リクエストの作成はサーバーと同じ
3. サーバーに対してリクエストを行う非同期処理となるためsuspend関数とするもしくはコルーチンスコープ内で呼び出すようにする

現状spring boot 3に対応していないかも？
https://github.com/yidongnan/grpc-spring-boot-starter/pull/775#issuecomment-1329023335
